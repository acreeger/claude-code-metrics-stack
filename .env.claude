# Claude Code Telemetry Configuration
# Add these to your shell profile (~/.zshrc or ~/.bashrc)

# Required: Enable telemetry
export CLAUDE_CODE_ENABLE_TELEMETRY=1

# Configure OTLP exporter
export OTEL_METRICS_EXPORTER=otlp
export OTEL_LOGS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Export intervals (milliseconds)
# Production: 60000 (1 minute) for metrics
# Debug: 10000 (10 seconds) for faster feedback
export OTEL_METRIC_EXPORT_INTERVAL=60000
export OTEL_LOGS_EXPORT_INTERVAL=5000

# Optional: Enable user prompt logging (privacy consideration)
# export OTEL_LOG_USER_PROMPTS=1

# Optional: Cardinality control
# export OTEL_METRICS_INCLUDE_SESSION_ID=true
# export OTEL_METRICS_INCLUDE_VERSION=false
# export OTEL_METRICS_INCLUDE_ACCOUNT_UUID=true

# Optional: Custom resource attributes for team/org filtering
# export OTEL_RESOURCE_ATTRIBUTES="team.id=your-team,department=engineering"
